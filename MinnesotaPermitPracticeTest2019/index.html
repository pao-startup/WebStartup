<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Pao Sorn Im">
    <title>Minnesota DVS Permit Practice Test 2019 | MN</title>

    <!-- Bootstrap core CSS -->
	<link href="css/bootstrap.min.css" rel="stylesheet">


    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
	  
	  input[type=checkbox] {
		  -ms-transform: scale(3); /* IE */
		  -moz-transform: scale(3); /* FF */
		  -webkit-transform: scale(3); /* Safari and Chrome */
		  -o-transform: scale(3); /* Opera */
		  padding: 10px;
		}
	  
	  .practice-test-title {font-size: 2.125rem;}
	  .practice-test-btn {font-size: 1.5rem;}
	  .practice-test-show {display: inline-block;}
	  .practice-test-hide {display: none;}
    </style>
    <!-- Custom styles for this template -->
    <link href="https://fonts.googleapis.com/css?family=Playfair+Display:700,900" rel="stylesheet">
    <!-- Custom styles for this template -->
</head>
<body>


<div class="container">
  <div class="jumbotron p-4 p-md-2 text-white rounded bg-dark">
    <div class="col px-0">
      <h1 class="display-4 font-italic">Minnesota DVS Permit Practice Test 2019 | MN</h1>
    </div>
  </div>
</div>

<main role="main" class="container">
  <div class="row">
    <div class="col blog-main">
      <h1 id="pTitle" class="btn btn-info practice-test-title"></h1>

      <div class="blog-post">
      	<div class="row">
      	</div>
      </div>

      <div id="qBlog" class="blog-post" data-q="1">
        <h2 id="qTitle" class="blog-post-title"></h2>
        <div class="row">
			<div class="col-md-3">
				<img id="qImage" src="" alt="" style="max-height: 185px;">
			</div>
			<div id="qBody" class="col" data-q="0"></div>
		</div>
		<div class="row">
			<div class="col">
				<p id="qHint"></p>
				<p id="qResult" class="practice-test-hide"></p>
			</div>
		</div>
      </div><!-- /.blog-post -->

      <br/>

      <nav class="blog-pagination">
        <a id="backQuestion" class="btn btn-outline-secondary practice-test-btn disabled">Back Question</a>
        <a id="nextQuestion" class="btn btn-outline-primary practice-test-btn disabled">Next Question</a>
      </nav>

	  <br/>

      <nav class="blog-pagination practice-test-hide">
        <a id="backPracticeTest" class="btn btn-outline-secondary practice-test-btn">Back MN DVS Practice Test</a>
        <a id="nextPracticeTest" class="btn btn-outline-primary practice-test-btn">Next MN DVS Practice Test</a>
      </nav>

	  <br/>
	  <br/>

    </div><!-- /.blog-main -->
  </div><!-- /.row -->

</main><!-- /.container -->


<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/util.js"></script>
<script src="js/app-practice-1.js"></script>
<script src="js/app-practice-2.js"></script>
<script src="js/app-practice-3.js"></script>
<script src="js/app-practice-4.js"></script>
<script src="js/app-data.js"></script>
<script>
$(document).ready(function() {
	function displayQuestionCheckbox(choices) {
		if (!Util.isValidArray(choices)) {
			alert('No Choice for this Question!');
			return;
		}
		$('#qBody').html('');
		for (let c in choices) {
			let divSelector = '<div class="input-group mb-3">';
			divSelector = divSelector + '<div class="input-group-prepend">';
			divSelector = divSelector + '<div class="input-group-text">';
			divSelector = divSelector + '<input type="checkbox" value="' + choices[c].a + '">';
			divSelector = divSelector + '</div>';
			divSelector = divSelector + '</div>';
			divSelector = divSelector + '<label class="form-control">' + choices[c].q + '</label>';
			divSelector = divSelector + '</div>';
			$( divSelector ).appendTo( '#qBody' );
		}
		(function() {
			$("input[type=checkbox]").click(function() {
				let value = $(this).val(),
					checked = $(this).prop("checked");
				$('input:checkbox').prop('checked', false);
				$(this).prop("checked", checked);
				if (checked && 1 == value) {
					let currentQuestionNumber = parseInt($('#qBlog').data('q'));
					console.log('currentQuestionNumber: ' + currentQuestionNumber);
					$('#qBody').data('q', 1);
					$('#nextQuestion').removeClass('disabled');
					$('input:checkbox').prop("disabled", true);
					$('#qHint').removeClass('practice-test-show').addClass('practice-test-hide');
					$('#qResult').removeClass('practice-test-hide').addClass('practice-test-show');
					if (currentQuestionNumber > 1) {
						$('#backQuestion').removeClass('disabled');
					} else {
						$('#backQuestion').addClass('disabled');
					}
				} else {
					$('#nextQuestion').removeClass('disabled').addClass('disabled');
					$('input:checkbox').prop("disabled", false);
					$('#qBody').data('q', 0);
					$('#qHint').removeClass('practice-test-hide').addClass('practice-test-show');
					$('#qResult').removeClass('practice-test-show').addClass('practice-test-hide');
				}
			});
		})();
	}
	function displayPracticeTest(practiceIndex, questionIndex) {
		let practices = AppData.getPractices();
		if (!Util.isValidArray(practices)) {
			alert('No Practice Test!');
			return;
		}
		let practice = practices[practiceIndex],
			practiceNumber = (practiceIndex + 1),
			questionNumber = (questionIndex + 1),
			practicePropertyName = "p" + practiceNumber;
		if (!Util.isValidObjectKey(practice, practicePropertyName)) {
			console.log('There is no ' + practicePropertyName + ' property!');
			alert('No Practice Test!');
			return;
		}
		let questions = practice[practicePropertyName];
		if (!Util.isValidArray(practices)) {
			alert('No Question for this Practice Test!');
			return;
		}
		let question = questions[questionIndex];
		console.log('practiceIndex: ' + practiceIndex + ', questionIndex: ' + questionIndex + ', questionNumber: ' + questionNumber);
		$('#qBody').data('q', 0);
		//$('#backQuestion').removeClass('disabled').addClass('disabled');
		$('#nextQuestion').removeClass('disabled').addClass('disabled');
		$('#qHint').removeClass('practice-test-hide').addClass('practice-test-show');
		$('#qResult').removeClass('practice-test-show').addClass('practice-test-hide');
		$('#pTitle').html(AppData.PRACTICE_TITLE + practiceNumber);//practice's title
		$('#qBlog').data('q', questionNumber);//question's number
		$('#qTitle').html(question.title);//question's title
		$('#qHint').html(question.hint);
		$('#qResult').html(question.result);
		$('#qImage').prop('src', AppData.QUESTION_IMAGE_PATH + question.src).prop('alt', question.hint);
		if ('checkbox' == question.type) {
			displayQuestionCheckbox(question.choices);
		} else {
			alert('No Question!');
		}
	}
	displayPracticeTest(0, 0);
	$('#nextQuestion').click(function() {
		let pTitle = $('#pTitle').html(),
			questionIndex = parseInt($('#qBlog').data('q')),
			isChecked = parseInt($('#qBody').data('q')) > 0,
			practiceIndex = parseInt(pTitle.replace(AppData.PRACTICE_TITLE, '')) - 1;
		if (!isChecked) {
			alert('Try again!');
			return;
		}
		if (practiceIndex <= -1) practiceIndex = 0;
		let practices = AppData.getPractices(),
			practice = practices[practiceIndex],
			practiceNumber = (practiceIndex + 1),
			practicePropertyName = "p" + practiceNumber,
			questions = practice[practicePropertyName];
		if (questionIndex >= questions.length) {
			questionIndex = 0;
			practiceIndex = practiceIndex + 1;//next practice test
		}
		displayPracticeTest(practiceIndex, questionIndex);
		$('#backQuestion').removeClass('practice-test-hide').addClass('practice-test-show');
	});
});
</script>
</body>
</html>
